const ss=document.createElement("style");function multiSelect(e,l){document.querySelectorAll(e).forEach(function(e){var t=document.createElement("div");const d=document.createElement("input");d.type="text",d.value="[]",d.name=e.name,d.dataset.name=d.name,t.style="visibility:hidden;width:0px;height:0px;overflow:hidden;margin:0px;padding:0px;border:none;outline:none;position:absolute;pointer-events:none;",e.style="visibility:hidden;width:0px;height:0px;overflow:hidden;margin:0px;padding:0px;border:none;outline:none";var n=document.createElement("div");n.className="multiselect",e.insertAdjacentElement("afterend",n),t.appendChild(d),e.insertAdjacentElement("afterend",t);const a=document.createElement("div"),o=(a.className="multiselect_options",n.appendChild(a),document.createElement("div")),r=(o.className="multiselect_dropdown_box",n.appendChild(o),window.addEventListener("mousedown",e=>{e.target!=a&&e.target.parentElement!=a&&e.target.parentElement.parentElement!=a&&o.classList.contains("active")&&o.classList.remove("active")}),a.addEventListener("mouseup",e=>{o.classList.toggle("active")}),t=>{t.preventDefault(),t.stopPropagation(),t.currentTarget.parentElement.remove();let e=JSON.parse(d.value);e=e.filter(e=>e!==t.currentTarget.dataset.value),d.value=JSON.stringify(e),console.log(d.value),o.querySelector(`[data-value="${t.currentTarget.dataset.value}"]`).classList.remove("added")}),i=e=>{var t,n;e.currentTarget.classList.contains("added")?a.querySelector(`[data-value="${e.currentTarget.dataset.value}"]`).dispatchEvent(new Event("mouseup")):(e.preventDefault(),(t=document.createElement("div")).className="multi_option",(n=document.createElement("div")).className="multi_option_icon",n.innerHTML=l,n.dataset.value=e.currentTarget.dataset.value,n.addEventListener("mouseup",r),t.appendChild(n),t.insertAdjacentHTML("beforeend",`<div class="multi_option_text">${e.currentTarget.innerHTML}</div>`),a.appendChild(t),JSON.parse(d.value).push(e.currentTarget.dataset.value).toString(),(n=JSON.parse(d.value)).push(e.currentTarget.dataset.value),d.value=JSON.stringify(n),console.log(d.value),e.currentTarget.classList.add("added"))};e.querySelectorAll("option").forEach(e=>{var t=document.createElement("div");t.className="multiselect_dropdown",t.innerHTML=e.innerHTML,t.dataset.value=e.value,o.appendChild(t),t.addEventListener("mousedown",i)}),e.style.display="none"})}ss.textContent=`
.multiselect {
    position: relative;
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
  
  .multiselect_options {
    padding: 6px;
    border: .5px solid #9d9d9d;
    min-height: calc(1em + 6px);
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
  
  }
  
  .multi_option {
    display: flex;
    cursor: default;
    border: #fff solid .5px;
    border-radius: 3px;
    background: #ddd;
    color: #000;
    height: 100%;
    align-items: center;
  }
  
  .multi_option_icon {
    padding: 5px;
    border-right: #fff solid .5px;
  }
  
  .multi_option_text {
    padding: 5px 10px;
  }
  
  .multi_option_icon {
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
  }
  
  .multi_option_icon svg {
    width: 14px;
    height: 14px;
    background-color: #fff;
    border-radius: 50%;
  }
  
  .multiselect_dropdown_box {
    display: none;
    position: absolute;
    top: 100%;
    right: 0px;
    left: 0px;
    z-index: 9999;
    background: #fff;
    max-height: 300px;
    overflow-y: scroll;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, .10);
  }
  
  .multiselect_dropdown_box.active {
    display: block;
  }
  
  .multiselect_dropdown {
    padding: 7px 10px;
    border: .5px solid #9d9d9d;
    border-top: none;
    cursor: pointer;
  
  
  }
  
  .multiselect_dropdown.added {
    background: #ddd;
  }
  
  .multiselect_dropdown:hover {
    background: rgb(58, 156, 255);
    color: #fff;
  }
  
  .multiselect_dropdown:first-child {
    border-top: .5px solid #9d9d9d;
    /* border-radius: 5px 5px 0px 0px; */
  }
  
  .multiselect_dropdown:last-child {
    border-radius: 0px 0px 5px 5px;
  }
`,document.body.appendChild(ss);