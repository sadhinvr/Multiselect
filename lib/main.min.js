function multiSelect(e,n){var e=document.querySelector(e),t=document.createElement("div");const r=document.createElement("input");r.type="text",r.value="[]",r.name=e.name,r.dataset.name=r.name,t.style="visibility:hidden;width:0px;height:0px;overflow:hidden;margin:0px;padding:0px;border:none;outline:none",e.style="visibility:hidden;width:0px;height:0px;overflow:hidden;margin:0px;padding:0px;border:none;outline:none";var a=document.createElement("div");a.className="multiselect",e.insertAdjacentElement("afterend",a),t.appendChild(r),e.insertAdjacentElement("afterend",t);const d=document.createElement("div"),l=(d.className="multiselect_options",a.appendChild(d),document.createElement("div"));l.className="multiselect_dropdown_box",a.appendChild(l);window.addEventListener("mousedown",e=>{e.target!=d&&e.target.parentElement!=d&&e.target.parentElement.parentElement!=d&&l.classList.contains("active")&&l.classList.remove("active")}),d.addEventListener("mouseup",e=>{l.classList.toggle("active")});const i=t=>{t.preventDefault(),t.stopPropagation(),t.currentTarget.parentElement.remove();let e=JSON.parse(r.value);e=e.filter(e=>e!==t.currentTarget.dataset.value),r.value=JSON.stringify(e),console.log(r.value),l.querySelector(`[data-value="${t.currentTarget.dataset.value}"]`).classList.remove("added")},s=e=>{var t,a;e.currentTarget.classList.contains("added")?d.querySelector(`[data-value="${e.currentTarget.dataset.value}"]`).dispatchEvent(new Event("mouseup")):(e.preventDefault(),(t=document.createElement("div")).className="multi_option",(a=document.createElement("div")).className="multi_option_icon",a.innerHTML=n,a.dataset.value=e.currentTarget.dataset.value,a.addEventListener("mouseup",i),t.appendChild(a),t.insertAdjacentHTML("beforeend",`<div class="multi_option_text">${e.currentTarget.innerHTML}</div>`),d.appendChild(t),JSON.parse(r.value).push(e.currentTarget.dataset.value).toString(),(a=JSON.parse(r.value)).push(e.currentTarget.dataset.value),r.value=JSON.stringify(a),console.log(r.value),e.currentTarget.classList.add("added"))};e.querySelectorAll("option").forEach(e=>{var t=document.createElement("div");t.className="multiselect_dropdown",t.innerHTML=e.innerHTML,t.dataset.value=e.value,l.appendChild(t),t.addEventListener("mousedown",s)}),e.style.display="none"}